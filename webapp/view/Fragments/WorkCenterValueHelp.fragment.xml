<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:table="sap.ui.table"
    xmlns:form="sap.ui.layout.form"
>
    <Dialog
        id="workCenterDialog"
        title="{i18n>lblWorkCenter}"
        contentWidth="500px"
        draggable="true"
        resizable="true"
        afterClose="onDialogClose"
    >
        <content>
            <!-- Filter Section -->
            <form:SimpleForm
                editable="true"
                layout="ResponsiveGridLayout"
            >
                <Label text="{i18n>lblWorkCenterCategory}" />
                <Input
                    value="{workCenterModel>/workCenterCategory}"
                    showValueHelp="true"
                    valueHelpRequest="onWorkCenterCategoryHelp"
                />

                <Label text="{i18n>Plant}" />
                <Input
                    value="{workCenterModel>/plant}"
                    showValueHelp="true"
                    valueHelpRequest="onPlantHelp"
                />

                <Label text="{i18n>lblWorkcenter}" />
                <Input value="{workCenterModel>/workCenter}" />

                <Label text="{i18n>Description}" />
                <Input value="{workCenterModel>/description}" />
            </form:SimpleForm>
            <HBox justifyContent="End">
                <Button
                    text="Search"
                    press="onSearchWorkCenters"
                />
            </HBox>

            <!-- Results Table -->
            <Table
                id="workCenterTable"
                items="{workCenterModel>/results}"
                mode="SingleSelectMaster"
            >
                <columns>
                    <Column>
                        <Label text="{i18n>lblPlant}" />
                    </Column>
                    <Column>
                        <Label text="{i18n>lblCategory}" />
                    </Column>
                    <Column>
                        <Label text="{i18n>lblWorkcenter}" />
                    </Column>
                    <Column>
                        <Label text="{i18n>lblShortDescription}" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem>
                        <cells>
                            <Text text="{workCenterModel>WERKS}" />
                            <Text text="{workCenterModel>VERWE}" />
                            <Text text="{workCenterModel>ARBPL}" />
                            <Text text="{workCenterModel>KTEXT}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>

        <beginButton>
            <Button
                text="{i18n>btnConfirm}"
                press="onWorkCenterSelect"
            />
        </beginButton>
        <endButton>
            <Button
                text="{i18n>btnClose}"
                press="onDialogClose"
            />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
